<Window x:Class="BootLauncherLite.Views.ToastWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="BootLauncherLite Toast"
        Width="500"
        Height="340"
        WindowStyle="None"
        ResizeMode="NoResize"
        Topmost="True"
        ShowInTaskbar="False"
        Background="Transparent"
        AllowsTransparency="True"
        Opacity="0.96">
    <Window.Resources>

        <!-- 🔒 FIXED TOAST THEME FOR LITE (matches your default theme) -->

        <!-- Toast panel background & border -->
        <SolidColorBrush x:Key="ToastBackgroundBrush" Color="#111827"/>
        <!-- card -->
        <SolidColorBrush x:Key="ToastBorderBrush"      Color="#374151"/>

        <!-- Toast text -->
        <SolidColorBrush x:Key="ToastHeaderTextBrush"  Color="#E5E7EB"/>
        <!-- light gray -->
        <SolidColorBrush x:Key="ToastBodyTextBrush"    Color="#E5E7EB"/>

        <!-- Toast buttons -->
        <SolidColorBrush x:Key="ToastButtonBackgroundBrush"      Color="#1F2937"/>
        <!-- btnBg -->
        <SolidColorBrush x:Key="ToastButtonBorderBrush"          Color="#374151"/>
        <!-- btnBorder -->
        <SolidColorBrush x:Key="ToastButtonTextBrush"            Color="#FFFFFF"/>
        <!-- btnFg -->
        <SolidColorBrush x:Key="ToastButtonHoverBackgroundBrush" Color="#2B5EBF"/>
        <!-- btnHoverBg -->
        <SolidColorBrush x:Key="ToastButtonHoverBorderBrush"     Color="#60A5FA"/>
        <!-- btnHoverBorder -->

        <!-- THEME BRUSHES (defaults will be pulled from App resources) -->
        <!-- Keeping these here, aligned with your main theme -->

        <SolidColorBrush x:Key="ComboBgBrush"    Color="#FF1F2937"/>
        <SolidColorBrush x:Key="ComboFgBrush"    Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="ComboHoverBrush" Color="#FF374151"/>

        <!-- GroupBox -->
        <SolidColorBrush x:Key="GroupBoxBackgroundBrush" Color="#1F2937"/>
        <SolidColorBrush x:Key="GroupBoxBorderBrush"      Color="#374151"/>
        <SolidColorBrush x:Key="GroupBoxForegroundBrush"  Color="White"/>

        <!-- DataGrid theme brushes -->
        <SolidColorBrush x:Key="DataGridBackgroundBrush" Color="#111827"/>
        <SolidColorBrush x:Key="DataGridRowBrush"        Color="#1F2937"/>
        <SolidColorBrush x:Key="DataGridAltRowBrush"     Color="#111827"/>
        <SolidColorBrush x:Key="DataGridGridLinesBrush"  Color="#374151"/>
        <SolidColorBrush x:Key="DataGridHoverBrush"      Color="#2B5EBF"/>
        <SolidColorBrush x:Key="DataGridSelectedBrush"   Color="#2B3440"/>
        <SolidColorBrush x:Key="DataGridForegroundBrush" Color="White"/>

        <!-- GROUPBOX STYLE -->
        <Style TargetType="GroupBox" x:Key="RoundedGroupBox">
            <Setter Property="Foreground"    Value="{DynamicResource GroupBoxForegroundBrush}"/>
            <Setter Property="Background"    Value="{DynamicResource GroupBoxBackgroundBrush}"/>
            <Setter Property="BorderBrush"   Value="{DynamicResource GroupBoxBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding"       Value="8"/>
            <Setter Property="Margin"        Value="0,0,0,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GroupBox">
                        <Grid>
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="12"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter Margin="0,10,0,0" />
                            </Border>

                            <Border Background="#111827"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    Margin="12,-10,0,0"
                                    Padding="6,0"
                                    CornerRadius="2"
                                    IsHitTestVisible="False">
                                <ContentPresenter ContentSource="Header"
                                                  RecognizesAccessKey="True"
                                                  SnapsToDevicePixels="True" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- STYLE USED ONLY BY TOAST BUTTONS -->
        <Style x:Key="ToastButtonStyle"
               TargetType="Button">
            <!-- Tie ALL visuals to Toast* brushes -->
            <Setter Property="Foreground"      Value="{DynamicResource ToastButtonTextBrush}"/>
            <Setter Property="Background"      Value="{DynamicResource ToastButtonBackgroundBrush}"/>
            <Setter Property="BorderBrush"     Value="{DynamicResource ToastButtonBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding"         Value="8,4"/>
            <Setter Property="Cursor"          Value="Hand"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <!-- EXPLICIT TextBlock that *forces* the toast text color -->
                            <TextBlock Text="{TemplateBinding Content}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Foreground="{DynamicResource ToastButtonTextBrush}"
                                       TextWrapping="NoWrap" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background"  Value="{DynamicResource ToastButtonHoverBackgroundBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ToastButtonHoverBorderBrush}"/>
                </Trigger>

                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background"
                            Value="{StaticResource ButtonPressedBackgroundBrush}"/>
                </Trigger>

                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.5"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- DATAGRID STYLE so the "panel" follows the theme -->
        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="{DynamicResource DataGridBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource DataGridForegroundBrush}"/>
            <Setter Property="RowBackground" Value="{DynamicResource DataGridRowBrush}"/>
            <Setter Property="AlternatingRowBackground" Value="{DynamicResource DataGridAltRowBrush}"/>
            <Setter Property="HorizontalGridLinesBrush" Value="{DynamicResource DataGridGridLinesBrush}"/>
            <Setter Property="VerticalGridLinesBrush" Value="{DynamicResource DataGridGridLinesBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource DataGridGridLinesBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowStyle">
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Foreground" Value="{DynamicResource DataGridForegroundBrush}"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{DynamicResource DataGridHoverBrush}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="{DynamicResource DataGridSelectedBrush}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="{DynamicResource DataGridBackgroundBrush}"/>
                        <Setter Property="Foreground" Value="{DynamicResource DataGridForegroundBrush}"/>
                        <Setter Property="BorderBrush" Value="{DynamicResource DataGridGridLinesBrush}"/>
                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                        <Setter Property="Padding" Value="6,4"/>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Border CornerRadius="10"
            Background="{DynamicResource ToastBackgroundBrush}"
            Padding="10"
            BorderBrush="{DynamicResource ToastBorderBrush}"
            BorderThickness="1"
            HorizontalAlignment="Right"
            Width="500">

        <Grid Margin="0,0,0,-1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock x:Name="TitleTextBlock"
                       Grid.Row="0"
                       FontSize="14"
                       FontWeight="Bold"
                       Foreground="{DynamicResource ToastHeaderTextBrush}"
                       Margin="0,0,0,4"
                       Text="Next app" />

            <!-- Body -->
            <TextBlock x:Name="BodyTextBlock"
                       Grid.Row="1"
                       FontSize="12"
                       Foreground="{DynamicResource ToastBodyTextBrush}"
                       TextWrapping="Wrap"
                       Margin="0,0,0,6"
                       Text="Launching in X seconds..." />

            <!-- Button row -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,8,0,0">

                <Button x:Name="SkipDelayButton"
                        Content="Skip delay"
                        Width="90"
                        Margin="0,0,6,0"
                        Style="{StaticResource ToastButtonStyle}"
                        Click="SkipDelayButton_Click"/>

                <Button x:Name="SkipNextAppButton"
                        Content="Skip next app"
                        Width="100"
                        Margin="0,0,6,0"
                        Style="{StaticResource ToastButtonStyle}"
                        Click="SkipNextAppButton_Click"/>

                <Button x:Name="StopSequenceButton"
                        Content="Stop sequence"
                        Width="110"
                        Margin="0,0,6,0"
                        Style="{StaticResource ToastButtonStyle}"
                        Click="StopSequenceButton_Click"/>

                <Button x:Name="ForceShutdownButton"
                        Content="Force shutdown"
                        Width="120"
                        Style="{StaticResource ToastButtonStyle}"
                        Click="ForceShutdownButton_Click"/>
            </StackPanel>

        </Grid>
    </Border>
</Window>
